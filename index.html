<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>INDEXDB</title>
</head>
<body onload="startDB();">
	 <h1>HTML5 INDEXDB</h1>
	
	<script>
		var indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
		            
        function startDB() {
            // create db  
            dataBase = indexedDB.open("object", 1)

            dataBase.onupgradeneeded = function (e) {
                active = dataBase.result;
                // create table
                object = active.createObjectStore("people", { keyPath : 'id', autoIncrement : true });
                // create indice
                object.createIndex('by_name', 'name', { unique : false });
                object.createIndex('by_dni', 'dni', { unique : true });

                dataBase.onsuccess = function (e) {
                    alert('Base de datos cargada correctamente');   
                };
                
                dataBase.onerror = function (e)  {
                    alert('Error cargando la base de datos');
                }
            };    
        };
	</script>
</body>
</html>